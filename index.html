<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Letter to Sabu</title>
  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet" />
  <style>
    /* Reset & base */
    * {
      box-sizing: border-box;
    }
    body, html {
      margin: 0; padding: 0;
      height: 100%;
      background: #0b1a2b; /* Dark navy */
      color: #f5e9d3; /* Cream */
      font-family: 'Indie Flower', cursive;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }

    /* Flickering warm light effect (candle-like) */
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
      background:
        radial-gradient(circle 1000px at 50% 30%, rgba(255 243 224 / 0.15), transparent 70%);
      animation: flicker 3s infinite;
      z-index: 0;
    }
    @keyframes flicker {
      0%, 100% { opacity: 0.15; }
      50% { opacity: 0.25; }
    }

    /* Container for all pages except cover */
    .container {
      position: relative;
      z-index: 1;
      max-width: 600px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    /* Each page style */
    .page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 20px;
      opacity: 0;
      transform: translateY(30px) scale(0.97);
      transition:
        opacity 1.3s cubic-bezier(0.4, 0, 0.2, 1),
        transform 1.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-size: 1.6rem;
      line-height: 1.6;
      user-select: none;
    }

    /* When visible, fade in, slide up and scale to normal */
    .page.visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Special styles for cover and final */
    .cover {
      height: 100vh;
      width: 100vw;
      display: flex !important;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 0 10px; /* reduced horizontal padding */
      font-size: 3.2rem;  /* Bigger font */
      font-weight: 700;
      letter-spacing: 1.2px;
      user-select: text;
      text-align: center;
      line-height: 1.3;
      /* Override transform & opacity so it shows immediately and fully */
      opacity: 1 !important;
      transform: translateY(0) scale(1) !important;
      min-height: unset !important;
      z-index: 1;
    }

    .final {
      font-style: italic;
      font-size: 1.5rem;
      margin-top: 20px;
      user-select: text;
      position: relative;
    }

    /* Scroll hint */
    #scroll-hint {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #f5e9d3;
      font-weight: 600;
      letter-spacing: 1.5px;
      font-size: 1.2rem;
      opacity: 0.8;
      cursor: default;
      user-select: none;
      animation: pulse 2.5s ease-in-out infinite;
      z-index: 999;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: opacity 0.7s ease;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 0.3; }
    }

    /* Heart popup after final text */
    #heart-popup {
      position: absolute;
      bottom: -70px;
      left: 50%;
      transform: translateX(-50%) scale(0);
      font-size: 3rem;
      color: #ff6b81;
      user-select: none;
      opacity: 0;
      transition:
        transform 0.9s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.9s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    #heart-popup.visible {
      transform: translateX(-50%) scale(1);
      opacity: 1;
      animation: heartbeat 1.4s ease-in-out infinite;
    }

    @keyframes heartbeat {
      0%, 100% { transform: translateX(-50%) scale(1); }
      50% { transform: translateX(-50%) scale(1.15); }
    }

    /* Responsive font */
    @media (max-width: 400px) {
      .page {
        font-size: 1.3rem;
        padding: 0 15px;
      }
      #scroll-hint {
        font-size: 1rem;
      }
      .cover {
        font-size: 2.2rem; /* smaller on very small screens */
      }
    }
  </style>
</head>
<body>

<div id="start-overlay" aria-label="Start ambient sounds and reveal letter" role="button" tabindex="0" style="cursor:pointer; user-select:none; height:100vh; display:flex; justify-content:center; align-items:center; flex-direction: column; background: #0b1a2b; color:#f5e9d3; font-family: 'Indie Flower', cursive; font-size:3rem;">
  <div>üïØÔ∏è</div>
  <p style="font-size:1.5rem; margin-top:10px;">"For you, Allu... only if you feel like reading."</p>
</div>

<!-- Cover page OUTSIDE the container to allow full viewport width -->
<div class="page cover visible" tabindex="0">To Sabu,<br>the one I haven‚Äôt met face to face...</div>

<div class="container" id="content" aria-live="polite" aria-atomic="true" style="display:none;">
  <div class="page" tabindex="0">
    I have heard your voice on the phone,<br>
    but I still don‚Äôt know how to start talking properly.
  </div>

  <div class="page" tabindex="0">
    I call you Allu sometimes...<br>
    it just feels sweet, like a name that brings you closer.
  </div>

  <div class="page" tabindex="0">
    Truth is, I never know the right way to begin.<br>
    My mind goes blank, and I end up talking nonsense or being quiet.
  </div>

  <div class="page" tabindex="0">
    I know I often say naughty or silly things...<br>
    maybe too much sometimes.<br>
    And I wonder if it annoys you, or makes you uncomfortable.
  </div>

  <div class="page" tabindex="0">
    But deep inside, it‚Äôs never about that.<br>
    It‚Äôs just... I don‚Äôt know how else to say I miss you,<br>
    or how much I want to know you better.
  </div>

  <div class="page" tabindex="0">
    Sometimes I take too long to reply,<br>
    or I might seem busy or distant.
  </div>

  <div class="page" tabindex="0">
    But just because I‚Äôm silent<br>
    doesn‚Äôt mean I‚Äôve forgotten you.<br>
    You're there ‚Äî quietly living in my thoughts.
  </div>

  <div class="page" tabindex="0">
    We don‚Äôt really talk much,<br>
    and sometimes there‚Äôs silence between us.
  </div>

  <div class="page" tabindex="0">
    But even in that silence,<br>
    I feel like we understand each other somehow.
  </div>

  <div class="page" tabindex="0">
    You may not say much to me,<br>
    but I feel your presence quietly beside me.
  </div>

  <div class="page" tabindex="0">
    There are no big stories or jokes,<br>
    but the connection we share feels real and strong.
  </div>

  <div class="page" tabindex="0">
    This letter is for those small feelings,<br>
    that are hard to say out loud.
  </div>

  <div class="page" tabindex="0">
    For all the moments we didn‚Äôt share,<br>
    I keep them safe in my heart.
  </div>

  <div class="page" tabindex="0">
    I might still be a stranger to you.<br>
    Just someone with a name in your inbox,<br>
    trying gently to feel a little closer.
  </div>

  <div class="page" tabindex="0">
    So if nothing else,<br>
    think of me as one of your well-wishers.<br>
    Quiet. Soft. Honest.
  </div>

  <div class="page final" tabindex="0">
    Even if we never meet face to face,<br>
    this quiet bond will always be special to me.
    <div id="heart-popup" aria-hidden="true">‚ù§Ô∏è</div>
  </div>
</div>



<div id="scroll-hint" aria-hidden="true">
  Scroll down <span style="font-size: 1.5rem;">&#8595;</span>
</div>

<script>
  const startOverlay = document.getElementById('start-overlay');
  const content = document.getElementById('content');
  const scrollHint = document.getElementById('scroll-hint');
  const heartPopup = document.getElementById('heart-popup');
  const finalPage = document.querySelector('.page.final');

  // Ambient background audio
  const ambientAudio = new Audio('soft.mp3');
  ambientAudio.loop = true;
  ambientAudio.volume = 0.15;

  // Handle start tap/click
  function startExperience() {
    startOverlay.style.display = 'none';
    content.style.display = 'block';
    ambientAudio.play();
    observePages();
  }

  startOverlay.addEventListener('click', startExperience);
  startOverlay.addEventListener('keypress', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      startExperience();
    }
  });

  // Intersection Observer to reveal pages smoothly on scroll
  function observePages() {
    const pages = document.querySelectorAll('.page:not(.visible)');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.25 });
    pages.forEach(page => observer.observe(page));
  }

  // Remove scroll hint only after last page fully visible
  const hintObserver = new IntersectionObserver(entries => {
    if (entries[0].isIntersecting) {
      scrollHint.style.opacity = '0';
      setTimeout(() => {
        if(scrollHint.parentNode) scrollHint.parentNode.removeChild(scrollHint);
      }, 700);
      // Show heart popup
      heartPopup.classList.add('visible');
    }
  }, { threshold: 0.6 });

  hintObserver.observe(finalPage);
</script>

</body>
</html>
